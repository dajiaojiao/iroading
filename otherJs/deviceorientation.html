<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>deviceorientation测试</title>
</head>

<body>
    <h5 id="data">此处是数据</h5>

    <script>
        var dataDom = document.getElementById("data");
        let diffObj = { diffBeta: 0, diffAlpha: 0, diffGamma: 0, beta: 0, alpha: 0, gamma: 0 };
        window.addEventListener("deviceorientation", function (event) {

            diffObj.diffBeta = Math.abs(event.beta - diffObj.beta);
            diffObj.diffAlpha = Math.abs(event.alpha - diffObj.alpha);
            diffObj.diffGamma = Math.abs(event.gamma - diffObj.gamma);

            diffObj.beta = event.beta;
            diffObj.alpha = event.alpha;
            diffObj.gamma = event.gamma;

            if (diffObj.diffBeta >= 5 || diffObj.diffAlpha >= 5) {
                var str = dataDom.innerHTML;
                str += diffObj.diffBeta + ";<br/>" + diffObj.diffAlpha + ";<br/>" + diffObj.diffGamma + ";" + "<br/><br/>";
                dataDom.innerHTML = str;
            }


        })    
    </script>
</body>

</html>